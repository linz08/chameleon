<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default_layout}" lang="ko">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 위 3개의 메타 태그는 *반드시* head 태그의 처음에 와야합니다; 어떤 다른 콘텐츠들은 반드시 이 태그들 *다음에* 와야 합니다 -->
    <title>카멜레온</title>
    <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico"/>
    <!-- 부트스트랩 -->
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x"
            crossorigin="anonymous">

    <!-- IE8 에서 HTML5 요소와 미디어 쿼리를 위한 HTML5 shim 와 Respond.js -->
    <!-- WARNING: Respond.js 는 당신이 file:// 을 통해 페이지를 볼 때는 동작하지 않습니다. -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style>
        img {
            width: 600px;
            height:auto !important;
        }
        .nounderline {
            text-decoration: none !important;
            color: black;
        }
    </style>
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js"
            integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
            crossorigin="anonymous"></script>

</head>
<body>
<th:block layout:fragment="header" th:include="@{/fragments/header}"></th:block>
<!-- 문제 해설 Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">문제해설</h4>
                <button type="button" class="btn-close" data-dismiss="modal">
                </button>
            </div>
            <div class="modal-body" th:utext="${quizModel.quiz_desc}">...</div>
            <div class="modal-footer">
                <a class="btn btn-success" role="button"
                   th:href="'/quiz/edit/'+${quizModel.doc_code}+'/'+${quizModel.quiz_number}" target="_blank">편집</a>
                <button type="button" class="btn btn-primary" data-dismiss="modal">닫기</button>
            </div>
        </div>
    </div>
</div>
<div layout:fragment="content" class="content" th:object="${quizModel}">
    <div>
			<span class="badge rounded-pill bg-primary" data-toggle="modal"
                  data-target="#myModal" style="cursor:pointer">문제해설</span> <span
            class="badge rounded-pill bg-secondary">문제통계</span> <span
            class="badge rounded-pill bg-success">메모내용</span> <span
            class="badge rounded-pill bg-danger"
            th:utext="'출처: '+${quizModel.quiz_source_name}+ ' '+${quizModel.quiz_org_number}+'번'"></span>
    </div>
    <hr/>
    <table class="table">
       <tr>
            <td><a class="nounderline"
                   th:href="'/quiz/edit/'+${quizModel.doc_code}+'/'+${quizModel.quiz_number}"
                   th:utext="${quizModel.quiz_org_number}"/><span th:utext="'. '+${quizModel.quiz_title}"></span></td>
        </tr>
        <tr th:if="${quizModel.quiz_subtitle != null and quizModel.quiz_subtitle != '' } ">
            <td th:utext="${quizModel.quiz_subtitle}"></td>
        </tr>
    </table>
    <br>
    <table class="table table-striped">
        <th:block th:each="objectList:${objectList}">
            <tr>
                <td class="table-active" th:onclick="quiz_answer([[${objectList.quiz_object_num}]]);"
                    th:text="${objectList.quiz_object_num}+ ') '"
                    style="width: 2%; text-align: center; cursor: pointer;">번호
                </td>
                <td th:utext="${objectList.quiz_object_name}"
                        style="width: 98%;">문항
                </td>
            </tr>
        </th:block>
    </table>
</div>
<script>
    let quiz_answer = function (answer) {
        if (answer === [[${quizModel.quiz_answer}]]) {
            alert("정답");
        } else {
            alert("오답");
        }
    }
</script>
</body>
</html>